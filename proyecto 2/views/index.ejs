<%- include('./template/main/head', { titleWeb: 'Inicio' , cssStyle: 'css/index.css' }) %>

    <%- include('./template/main/navbar') %>

        <div class="container py-5">
            <h1 class="text-center mb-4 text-warning fw-bold display-4">Biblioteca Virtual</h1>
            <p class="text-center text-muted mb-5 fs-5">Aqu√≠ puedes ver los libros agregados con sus portadas.</p>

            <div class="row g-4">
                <% if (books.length===0) { %>
                    <p class="text-center text-muted fs-4">No hay libros disponibles.</p>
                    <% } else { %>
                        <% books.forEach(book=> { %>
                            <div class="col-sm-6 col-md-4 col-lg-3">
                                <a href="/books/<%= book.id_book %>" class="text-decoration-none text-dark">
                                    <div class="card h-100 shadow-lg border-0 book-card">
                                        <% if (book.cover_image) { %>
                                            <img src="/uploads/covers/<%= book.cover_image %>"
                                                class="card-img-top book-cover" alt="Portada <%= book.name %>">
                                            <% } else { %>
                                                <div
                                                    class="d-flex align-items-center justify-content-center bg-secondary text-white no-cover">
                                                    Sin portada
                                                </div>
                                                <% } %>
                                                    <div class="card-body d-flex flex-column">
                                                        <h5 class="card-title text-truncate" title="<%= book.name %>">
                                                            <%= book.name %>
                                                        </h5>
                                                        <% if (book.description) { %>
                                                            <p class="card-text text-truncate-3">
                                                                <%= book.description %>
                                                            </p>
                                                            <% } %>
                                                    </div>
                                    </div>
                                </a>
                            </div>
                            <% }) %>
                                <% } %>
            </div>
        </div>

        <%- include('./template/main/footer') %>